[[source]]
name = "pypi"
url = "https://pypi.org/simple"
verify_ssl = true

[dev-packages]
check-manifest = ">=0.25"

[packages]
uwsgi = ">=2.0"
uwsgitop = ">=0.11"
uwsgi-tools = ">=1.1.1"

# TODO: build oarepo with s3 and opensearch2, then remove the packages below
# oarepo = { version = "~=10.0.0", extras = [] }

# Invenio core modules
invenio-app = ">=1.3.4,<1.4.0"
invenio-base = ">=1.2.11,<1.3.0"
invenio-cache = ">=1.1.1,<1.2.0"
invenio-celery = ">=1.2.4,<1.3.0"
invenio-config = ">=1.0.3,<1.1.0"
invenio-i18n = ">=1.3.1,<1.4.0"
invenio-db = { version = ">=1.0.14,<1.1.0", extras = ["postgresql"] }
# Invenio base bundle
invenio-admin = ">=1.3.2,<1.4.0"
invenio-assets = ">=2.0.0,<3.0.0"
invenio-formatter = ">=1.1.3,<1.2.0"
invenio-logging = { version = ">=1.3.2,<1.4.0", extras = ["sentry-sdk"] }
invenio-mail = ">=1.0.2,<1.1.0"
invenio-rest = ">=1.2.8,<1.3.0"
invenio-theme = ">=1.4.0,<1.5.0"
# Invenio auth bundle
invenio-access = ">=1.4.4,<1.5.0"
invenio-accounts = ">=2.0.0,<2.1.0"
invenio-oauth2server = ">=1.3.6,<1.4.0"
invenio-oauthclient = ">=2.0.1,<2.1.0"
invenio-userprofiles = ">=2.0.2,<2.1.0"
# Invenio metadata bundle
invenio-indexer = ">=2.1.0,<2.2.0"
invenio-jsonschemas = ">=1.1.4,<1.2.0"
invenio-oaiserver = ">=2.1.0,<2.2.0"
invenio-pidstore = ">=1.2.3,<1.3.0"
invenio-records-rest = ">=2.1.0,<2.2.0"
invenio-records-ui = ">=1.2.0,<1.3.0"
invenio-records = ">=2.0.0,<2.1.0"
invenio-search-ui = ">=2.2.0,<3.0.0"
# Invenio files bundle
invenio-files-rest = ">=1.3.3,<1.4.0"
invenio-previewer = ">=1.3.6,<1.4.0"
invenio-records-files = ">=1.2.1,<1.3.0"

# Invenio-App-RDM
# invenio-rdm-records = ">=1.0.0,<2.0.0"
CairoSVG = ">=2.5.2,<3.0.0"
invenio-pages = ">=1.0.0a5,<1.1.0"

pytest-black = ">=0.3.0"
pytest-invenio = ">=2.1.0,<3.0.0"
Sphinx = ">=4.5.0"
invenio-search = { version = ">=2.1.0,<3.0.0", extras = ["opensearch2"] }
invenio-s3 = "~=1.0.5"

# oarepo
{{cookiecutter.theme_package}} = { path ="{{cookiecutter.theme_dir}}", editable = true }

# invenio workarounds - dependency hell
ftfy = { version = "<5.0.0,>=4.4.3" }
invenio-administration = { version = ">=1.0.0,<2.0.0" }
invenio-users-resources = { version = ">=0.3.2, <1.0.0"}
invenio-requests = { version = "1.0.1"}


[requires]
python_version = "{{ cookiecutter.python_version.split()[0] }}"

[pipenv]
allow_prereleases = false
